# ==============================================
# CONFIGURACIÓN GENERAL DEL PROYECTO
# ==============================================
NODE_ENV=production

# ==============================================
# BASE DE DATOS (Supabase)
# ==============================================
# URL para el pooler de conexiones (Transaction mode - puerto 6543)
# Reemplaza [PASSWORD] con tu contraseña real de Supabase
DATABASE_URL=postgresql://postgres:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true

# URL directa a la base de datos (Session mode - puerto 5432) - Usada para migraciones
DIRECT_URL=postgresql://postgres:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:5432/postgres

# ==============================================
# REDIS
# ==============================================
REDIS_URL=redis://redis:6379

# ==============================================
# KEYCLOAK (Autenticación)
# ==============================================
KEYCLOAK_URL=https://keycloak.mmalgor.com.ar
KEYCLOAK_REALM=ds-2025-realm
KEYCLOAK_CLIENT_ID=grupo-12

# ==============================================
# URLs EXTERNAS E INTERNAS
# ==============================================
# URL pública del frontend (usada por Keycloak para redirecciones)
FRONTEND_URL=http://localhost:3000

# URLs internas para comunicación entre microservicios (Docker Network)
CONFIG_SERVICE_URL=http://config-service:3003
SHIPPING_SERVICE_URL=http://shipping-service:3001
STOCK_SERVICE_URL=http://stock-integration-service:3002
COMPRAS_API_URL=http://stock-integration-service:3002

# API Externa de Stock/Compras
STOCK_API_URL=https://comprasg5.mmalgor.com.ar

# ==============================================
# RATE LIMITING (Gateway)
# ==============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# VARIABLES DE ENTORNO PARA FRONTEND (Next.js)
# ==============================================
# IMPORTANTE: Estas variables deben estar definidas en Dokploy durante el BUILD
# Las variables NEXT_PUBLIC_* se compilan en build time, no en runtime
NEXT_PUBLIC_API_URL=http://localhost:3004
NEXT_PUBLIC_FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_KEYCLOAK_URL=https://keycloak.mmalgor.com.ar
NEXT_PUBLIC_KEYCLOAK_REALM=ds-2025-realm
NEXT_PUBLIC_KEYCLOAK_CLIENT_ID=grupo-12
NEXT_PUBLIC_ENV=development

# ==============================================
# CORS
# ==============================================
CORS_ORIGIN=http://localhost:3000
