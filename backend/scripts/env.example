# ===================================
# CONFIGURACIÓN DE SCRIPTS - MICROSERVICIOS
# TPI Desarrollo de Software 2025
# ===================================

# ===================================
# CONFIGURACIÓN DE ENTORNO
# ===================================
# Valores: development, staging, production
ENVIRONMENT=development

# ===================================
# CONFIGURACIÓN DE MICROSERVICIOS
# ===================================
# URLs de microservicios (para desarrollo local)
CONFIG_SERVICE_URL=http://localhost:3003
STOCK_INTEGRATION_SERVICE_URL=http://localhost:3002
SHIPPING_SERVICE_URL=http://localhost:3001
OPERATOR_INTERFACE_SERVICE_URL=http://localhost:3004

# URLs para despliegue (se sobrescriben según ENVIRONMENT)
CONFIG_SERVICE_URL_DEPLOYED=http://config-service:3003
STOCK_INTEGRATION_SERVICE_URL_DEPLOYED=http://stock-integration-service:3002
SHIPPING_SERVICE_URL_DEPLOYED=http://shipping-service:3001
OPERATOR_INTERFACE_SERVICE_URL_DEPLOYED=http://operator-interface-service:3004

# ===================================
# CONFIGURACIÓN DE BASE DE DATOS
# ===================================
# URLs de base de datos (desarrollo)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/logistics
DIRECT_URL=postgresql://postgres:postgres@localhost:5432/logistics

# URLs para despliegue (se sobrescriben según ENVIRONMENT)
DATABASE_URL_DEPLOYED=postgresql://postgres:postgres@postgres:5432/logistics
DIRECT_URL_DEPLOYED=postgresql://postgres:postgres@postgres:5432/logistics

# ===================================
# CONFIGURACIÓN DE REDIS
# ===================================
# URL de Redis (desarrollo)
REDIS_URL=redis://localhost:6379

# URL para despliegue
REDIS_URL_DEPLOYED=redis://redis:6379

# ===================================
# CONFIGURACIÓN DE APIS EXTERNAS
# ===================================
# URLs de APIs externas
STOCK_API_URL=http://localhost:3002
COMPRAS_API_URL=http://localhost:3002
EXTERNAL_URL=http://localhost:3000

# URLs para despliegue
STOCK_API_URL_DEPLOYED=http://stock-integration-service:3002
COMPRAS_API_URL_DEPLOYED=http://stock-integration-service:3002
EXTERNAL_URL_DEPLOYED=http://operator-interface-service:3004

# ===================================
# CONFIGURACIÓN DE KEYCLOAK
# ===================================
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=logistics
KEYCLOAK_CLIENT_ID=logistics-api

# ===================================
# CONFIGURACIÓN DE GEOLOCALIZACIÓN
# ===================================
DISTANCE_API_URL=https://api.distancematrix.ai
DISTANCE_API_KEY=your-api-key

# ===================================
# CONFIGURACIÓN DE CACHE
# ===================================
PRODUCT_CACHE_TTL=600
DISTANCE_CACHE_TTL=3600
STOCK_CACHE_TTL=600
STOCK_CACHE_MAX_ITEMS=1000

# ===================================
# CONFIGURACIÓN DE TIMEOUTS
# ===================================
QUOTE_TIMEOUT=30000
STOCK_TIMEOUT=10000

# ===================================
# CONFIGURACIÓN DE CIRCUIT BREAKER
# ===================================
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60000

# ===================================
# CONFIGURACIÓN DE RETRY
# ===================================
MAX_RETRIES=3
RETRY_DELAY=1000

# ===================================
# CONFIGURACIÓN DE LOGGING
# ===================================
LOG_LEVEL=info
LOG_FORMAT=json

# ===================================
# CONFIGURACIÓN DE TESTING
# ===================================
TEST_TIMEOUT=30000
TEST_RETRIES=3

# ===================================
# CONFIGURACIÓN DE DOCKER
# ===================================
# Nombres de imágenes Docker
DOCKER_IMAGE_PREFIX=logistics
DOCKER_REGISTRY=localhost:5000

# ===================================
# CONFIGURACIÓN DE PUERTOS
# ===================================
# Puertos de microservicios
CONFIG_SERVICE_PORT=3003
STOCK_INTEGRATION_SERVICE_PORT=3002
SHIPPING_SERVICE_PORT=3001
OPERATOR_INTERFACE_SERVICE_PORT=3004

# ===================================
# CONFIGURACIÓN DE HEALTH CHECKS
# ===================================
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_INTERVAL=1000

# ===================================
# CONFIGURACIÓN DE MONITOREO
# ===================================
METRICS_ENABLED=true
METRICS_PORT=9090
TRACING_ENABLED=true
TRACING_SAMPLE_RATE=0.1

# ===================================
# CONFIGURACIÓN DE SEGURIDAD
# ===================================
JWT_SECRET=your-jwt-secret
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# ===================================
# CONFIGURACIÓN DE CORS
# ===================================
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization

# ===================================
# CONFIGURACIÓN DE RATE LIMITING
# ===================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ===================================
# CONFIGURACIÓN DE COMPRESIÓN
# ===================================
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024

# ===================================
# CONFIGURACIÓN DE HELMET
# ===================================
HELMET_ENABLED=true
HELMET_CSP_ENABLED=true
HELMET_HSTS_ENABLED=true

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN
# ===================================
VALIDATION_WHITELIST=true
VALIDATION_FORBID_NON_WHITELISTED=true
VALIDATION_TRANSFORM=true

# ===================================
# CONFIGURACIÓN DE SWAGGER
# ===================================
SWAGGER_ENABLED=true
SWAGGER_TITLE=Logistics API
SWAGGER_DESCRIPTION=API de microservicios de logística
SWAGGER_VERSION=1.0.0
SWAGGER_PATH=/api/docs

# ===================================
# CONFIGURACIÓN DE DESARROLLO
# ===================================
# Habilitar hot reload
HOT_RELOAD=true

# Habilitar debug
DEBUG_ENABLED=true
DEBUG_NAMESPACE=logistics:*

# Habilitar profiling
PROFILING_ENABLED=false
PROFILING_SAMPLE_RATE=0.1

# ===================================
# CONFIGURACIÓN DE TESTING
# ===================================
# Habilitar tests en paralelo
TEST_PARALLEL=true
TEST_MAX_WORKERS=4

# Habilitar coverage
COVERAGE_ENABLED=true
COVERAGE_THRESHOLD=80

# Habilitar e2e tests
E2E_ENABLED=true
E2E_TIMEOUT=30000

# ===================================
# CONFIGURACIÓN DE CI/CD
# ===================================
# Habilitar CI/CD
CI_ENABLED=false
CD_ENABLED=false

# Configuración de deployment
DEPLOYMENT_STRATEGY=rolling
DEPLOYMENT_TIMEOUT=300
DEPLOYMENT_HEALTH_CHECK=true

# ===================================
# CONFIGURACIÓN DE BACKUP
# ===================================
# Habilitar backup automático
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# ===================================
# CONFIGURACIÓN DE ALERTAS
# ===================================
# Habilitar alertas
ALERTS_ENABLED=false
ALERTS_WEBHOOK_URL=
ALERTS_SLACK_WEBHOOK=
ALERTS_EMAIL=

# ===================================
# CONFIGURACIÓN DE MANTENIMIENTO
# ===================================
# Habilitar modo mantenimiento
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Sistema en mantenimiento

# ===================================
# CONFIGURACIÓN DE DESARROLLO LOCAL
# ===================================
# Habilitar desarrollo local
LOCAL_DEV=true
LOCAL_DEV_PORT=3000
LOCAL_DEV_HOST=localhost

# Habilitar proxy
PROXY_ENABLED=false
PROXY_TARGET=http://localhost:3000
PROXY_CHANGE_ORIGIN=true

# ===================================
# CONFIGURACIÓN DE DESPLIEGUE
# ===================================
# Habilitar despliegue automático
AUTO_DEPLOY=false
AUTO_DEPLOY_BRANCH=main
AUTO_DEPLOY_ENVIRONMENT=production

# Configuración de rollback
ROLLBACK_ENABLED=true
ROLLBACK_TIMEOUT=300
ROLLBACK_HEALTH_CHECK=true
